<div class="container">
  <div class="Accordions">
    <div class="Accordion_item">
      <div class="title_tab">
        <h3 class="title">
          Product Description
          <span class="icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="8" height="15" viewBox="0 0 8 15" fill="none">
              <path d="M1 13.7275L7 7.72754L0.999999 1.72754" stroke="#121212" stroke-width="1.5" stroke-linecap="round"
                stroke-linejoin="round" />
            </svg>
          </span>
        </h3>
      </div>
      <div class="inner_content">
        {{ product.description }}
      </div>
    </div>

    {% if product.metafields.custom.whats_included != blank %}
    <div class="Accordion_item">
      <div class="title_tab">
        <h3 class="title">
          WHAT'S INCLUDED
          <span class="icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="8" height="15" viewBox="0 0 8 15" fill="none">
              <path d="M1 13.7275L7 7.72754L0.999999 1.72754" stroke="#121212" stroke-width="1.5" stroke-linecap="round"
                stroke-linejoin="round" />
            </svg>
          </span>
        </h3>
      </div>
      <div class="inner_content">
        {{ product.metafields.custom.whats_included | newline_to_br }}
      </div>
    </div>
    {% endif %}


    {% if product.metafields.custom.product_specifications != blank %}

    <div class="Accordion_item">
      <div class="title_tab">
        <h3 class="title">
          Specifications
          <span class="icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="8" height="15" viewBox="0 0 8 15" fill="none">
              <path d="M1 13.7275L7 7.72754L0.999999 1.72754" stroke="#121212" stroke-width="1.5" stroke-linecap="round"
                stroke-linejoin="round" />
            </svg>
          </span>
        </h3>
      </div>
      <div class="inner_content">
        {{ product.metafields.custom.product_specifications | newline_to_br }}
      </div>
    </div>

    {% endif %}







  </div>
</div>


<script>
 (function () {
  function initAccordion(selector) {
    if (typeof jQuery === 'undefined') {
      console.error('Accordion: jQuery not found.');
      return;
    }
    
    var $ = jQuery;
    var $container = $(selector);

    if ($container.length === 0) {
      console.warn('Accordion container not found:', selector);
      return;
    }

    // Open the first accordion by default
    var $firstItem = $container.find('.Accordion_item:first');
    var $firstTitle = $firstItem.find('.title_tab:first');
    var $firstContent = $firstTitle.next('.inner_content');

    if ($firstTitle.length && $firstContent.length) {
      $firstTitle.addClass('active');
      $firstContent.show().find('p').addClass('show');
    }

    // Remove any previous bindings to avoid duplicates
    $container.off('click.accordion');

    // Click handler for accordion items
    $container.on('click.accordion', '.title_tab', function (e) {
      e.preventDefault();
      
      var $this = $(this);
      var $content = $this.next('.inner_content');

      if (!$content.length) {
        console.warn('Accordion: .inner_content not found next to', $this);
        return;
      }

      if ($this.hasClass('active')) {
        // Close this accordion
        $this.removeClass('active');
        $content.stop(true, true).slideUp(400, function() {
          $content.find('p').removeClass('show');
        });
      } else {
        // Open this accordion (independent - don't close others)
        $this.addClass('active');
        $content.stop(true, true).slideDown(400, function() {
          $content.find('p').addClass('show');
        });
      }
    });

    console.log('Accordion initialized for selector:', selector);
  }

  // Initialize on DOM ready
  function initializeAccordions() {
    // Initialize desktop accordion
    initAccordion('.product__media-wrapper .Accordions');
    
    // Initialize mobile accordion
    initAccordion('.mobile-accodian .Accordions');
  }

  // Wait for DOM to be ready
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initializeAccordions);
  } else {
    initializeAccordions();
  }

  // Re-initialize on window resize (useful for responsive behavior)
  var resizeTimer;
  window.addEventListener('resize', function() {
    clearTimeout(resizeTimer);
    resizeTimer = setTimeout(function() {
      initializeAccordions();
    }, 500);
  });
})();
</script>




<style>
  .product__media-wrapper .Accordions {
    margin: 30px 0 0;
    padding-bottom: 20px;
    padding-right: 20px;
  }

  .Accordion_item .title_tab h3 {
    display: flex;
    align-items: center;
    gap: 20px;
    justify-content: space-between;
    margin: 0;
    color: var(--Black-900, #121212);
    font-family: Montserrat;
    font-size: 16px;
    font-style: normal;
    font-weight: 700;
    line-height: normal;
    text-transform: uppercase;
    padding: 20px 20px 20px 0;
    /* border-bottom: 1px solid rgba(0, 0, 0, 0.30); */
    cursor: pointer;
  }

  .Accordion_item {
    border-bottom: 1px solid rgba(0, 0, 0, 0.30);
  }

  .Accordions .inner_content * {
           font-family: 'Montserrat';
        font-weight: 500;
        letter-spacing: 0;
        line-height: 24px;
                font-size: 16px;
      color: #010005;
          letter-spacing: -.16px;
  }

  .Accordions .inner_content p  strong {
  font-weight: 600;
  }
  .Accordions .inner_content p {
    margin: 0 0 20px;
}

.Accordions .inner_content p:last-of-type {
  margin-bottom: 0;
 }

  .Accordions .title_tab.active h3.title {
    border: unset;
  }

  .Accordions .title_tab.active h3.title span.icon {
    transition: all .3s linear;
  }

  /* .Accordions .Accordion_item:last-of-type h3.title {
    border: unset;
  } */

  .Accordions .title_tab.active h3.title span.icon {
    transform: rotate(90deg);
  }

  .Accordions .inner_content p > b {
}



  .Accordions .inner_content {
    display: none;
    padding-right: 53px;
    padding-bottom: 20px;
  }

  .Accordions .inner_content ul strong {
   font-weight: 600;
    font-family: 'Montserrat';
}

.Accordions .inner_content b {
    font-family: 'Montserrat';
    font-weight: 600;
    margin-bottom: 12px;
    display: inline-block;
}

  .mobile-accodian {
    display: none;
  }

  .Accordions .Accordion_item:last-child {
    border-bottom: none;
}

 .Accordions .inner_content ul {
    margin: 0;
    padding-left: 20px;
        list-style: disc;
    letter-spacing: 0;
    line-height: 24px;
    padding-left: 20px;
    margin-top: 0;
    margin: 0 0 20px;
}

.Accordions .inner_content > ul:last-child {
    margin-bottom: 0;
}

.Accordions .inner_content ul br {
    display: none;
}

 .Accordions .inner_content ul li {
   font-family: 'Montserrat';
        font-weight: 500;
        color: #01000a;
        line-height: 20px;
            margin-bottom: 16px;
            font-size: 16px;
}

 .Accordions .inner_content ul li:last-of-type {
    margin-bottom: 0;
 }

.Accordions .inner_content ul li a {
  text-decoration: none;
  color: #0a58ca;
}
  @media (max-width: 750px) {
    .mobile-accodian {
      display: block;
    }

    .mobile-accodian .Accordion_item .title_tab h3 {
      font-size: 14px;
      padding: 10px 0 10px 0;
    }
  }
</style>