<section class="faq-section">
  <div class="container">
    {% if section.settings.faq_section_title != blank %}
      <h2 class="faq-title">{{ section.settings.faq_section_title }}</h2>
    {% endif %}
    {% for block in section.blocks %}
      <div class="faq-item">
        {% if block.settings.faq_question != blank %}
          <h3 class="faq-qustion">{{ block.settings.faq_question }}</h3>
        {% endif %}
        <div class="faq-panel-body">
          {% if block.settings.faq_logo %}
            <div class="faq-logo">
              <img
                class="faq-logo"
                src="{{ block.settings.faq_logo | img_url: 'master' }}"
                alt="{{ block.settings.faq_title }}"
              >
            </div>
          {% endif %}

          <div class="faq-info faq-content">
            <h4 class="faq-content-title">{{ block.settings.faq_title }}</h4>
            <p class="faq-content-subtitle">{{ block.settings.faq_subtitle }}</p>
            <address>{{ block.settings.faq_address }}</address>

            {% if block.settings.faq_website != blank and block.settings.website_text != blank %}
              <a href="{{ block.settings.faq_website }}" target="_blank">{{ block.settings.Website_text }}</a>
            {% endif %}
          </div>
          {% if block.settings.faq_link %}
            <div class="faq-map-wrapper">
              <div class="faq-map">
                  <iframe src="{{ block.settings.faq_link }}" width="600" height="400"></iframe>
              </div>
            </div>
          {% endif %}
        </div>
      </div>
    {% endfor %}
  </div>
</section>
<script>
  document.addEventListener('DOMContentLoaded', function () {
    const faqHeaders = document.querySelectorAll('.faq-item h3');

    faqHeaders.forEach((header) => {
      header.addEventListener('click', function () {
        const currentAnswer = header.nextElementSibling;

        header.classList.toggle('active');
        header.classList.add('faq-question'); 
        currentAnswer.classList.toggle('active');

        const allAnswers = document.querySelectorAll('.faq-item .faq-panel-body');
        allAnswers.forEach((answer) => {
          if (answer !== currentAnswer) {
            answer.style.maxHeight = null;
            answer.previousElementSibling.classList.remove('active');
            answer.previousElementSibling.classList.remove('faq-question'); // Remove faq-question class from other questions
          }
        });

        if (currentAnswer.style.maxHeight) {
          currentAnswer.style.maxHeight = null;
        } else {
          currentAnswer.style.maxHeight = currentAnswer.scrollHeight + 'px';
        }
      });
    });
  });
</script>




{% stylesheet %}
  .faq-panel-body {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.5s ease-in-out;
  }

     .faq-section {
        padding: 20px 20px 80px;
    }
    .faq-section .container {
        max-width: 1280px;
        margin: 0 auto;
    }
    .faq-title{
        font-weight: normal;
  font-size: 36px;
    margin:0 0 30px;
    text-transform: uppercase;}
    .faq-panel-body {
        display: flex;
        row-gap: 30px;
        margin: 0 -10px;
        flex-wrap: wrap;
    }
    .faq-title > *{margin: 0;}
    .faq-panel-body >div {
        width: 33.33%;
        padding: 0 10px;
    }
 .faq-qustion {
    font-family: Prompt;
    font-size: 18px;
    font-style: normal;
    font-weight: 700;
    line-height: 28px;
    letter-spacing: 3.6px;
    text-transform: uppercase;
    background: linear-gradient(102deg,#42c5ef,#0033a0,#42c5ef,#0033a0);
    background-size: auto;
    background-clip: border-box;
    background-size: 200% 200%;
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    transition: color .2s ease-in-out;
    padding: 10px;
    border-bottom: 1px solid #ccc;
    margin: 0 0 10px;
    display: flex;
    justify-content: space-between;
    cursor: pointer;
}
  .faq-qustion:hover {
  	animation: rainbow 1.25s ease-in-out infinite;
  }
  @keyframes rainbow {
    0% {
      background-position:left
    }
    50% {
      background-position:right
    }
    100% {
      background-position:left
    }
  }
 .faq-content-title {
    color: #0033a0;
    font-size: 22px;
    margin-bottom: 0;
    padding-bottom: 0;
    line-height: 100%;
    font-weight: 700;
    margin: 0;
    text-transform: uppercase;
}
.faq-qustion:after {
    flex-shrink: 0;
    margin-right: 5px;
    display: inline-block;
    width: 20px;
    height: 20px;
    margin-left: auto;
    content: "";
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%230033a0' class='bi bi-plus' viewBox='0 0 16 16'%3E%3Cpath d='M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z'/%3E%3C/svg%3E");
    transition: all 0.5s;
    background-repeat: no-repeat;
    background-size: 25px;
    transition: transform .2s ease-in-out;
}
.faq-qustion.active:after {
	background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%230033a0' class='bi bi-dash' viewBox='0 0 16 16'%3E%3Cpath d='M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z'/%3E%3C/svg%3E");
}
.faq-info address,.faq-info a {
    color: #5b5b5b;
    font-style: normal;
    line-height: 1.3;
}
.faq-info address> *,.faq-info a{margin: 0;}
.faq-content-subtitle {
    margin: 0;
    color: #0033a0;
    font-weight: 700;
    font-family: 'Montserrat';
        line-height: 1.1;
}
.faq-logo {
    text-align: center;
}
   .faq-logo img {
      max-width: 100%;
      width: auto;
      max-height: 150px;
      height: auto;
  }
.faq-map {
    display: flex;
    padding-top: 50% !important;
    position: relative;
}
.faq-map  iframe {
    border: unset;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}
    .faq-info {
      margin-top: 10px;
    }

    .faq-info a {
      color: #0074cc;
      text-decoration: none;
    }

    .faq-info a:hover {
      text-decoration: underline;
    }

      @media (max-width: 1200px) {
  .faq-title{
  font-size: 32px;
    }
}
  @media (max-width: 992px) {
 .faq-title{
  font-size: 28px;
    }
    .faq-qustion {
    letter-spacing: 2.6px;
}
 .faq-qustion {
    letter-spacing: 1.6px;
    font-size: 16px;line-height: 22px;
}
.faq-section {
    padding: 20px 20px 50px;
}
.faq-content-title {
    font-size: 20px;
}
}
 @media (max-width: 768px) {
   .faq-title{
  font-size: 24px;
  margin: 0 0 20px
    }
   .faq-qustion {
    letter-spacing: 0.8px;
            font-size: 15px;
        line-height: 20px;
}
   .faq-section {
    padding: 20px 20px 40px;
}
.faq-panel-body>div {
    width: 100%;
    text-align: center;
}
.faq-panel-body {
    row-gap: 20px;
}
}
{% endstylesheet %}

{% schema %}
{
  "name": "Shows FAQ Section",
  "settings": [
    {
      "type": "header",
      "content": "Trade Shows"
    },
    {
      "type": "richtext",
      "label": "FAQ Section Title",
      "id": "faq_section_title",
      "default": "<p>Frequently Asked Questions</p>"
    }
  ],
  "blocks": [
    {
      "type": "faq_block",
      "name": "FAQ Block",
      "settings": [
        {
          "type": "text",
          "label": "FAQ Question",
          "id": "faq_question",
          "default": "What is the AAP Annual Meeting?"
        },
        {
          "type": "image_picker",
          "label": "Logo for FAQ Block",
          "id": "faq_logo"
        },
        {
          "type": "text",
          "label": "Title for FAQ Block",
          "id": "faq_title",
          "default": "AAP Annual Meeting"
        },
        {
          "type": "text",
          "label": "Subtitle for FAQ Block",
          "id": "faq_subtitle",
          "default": "Toronto, ON | 10/15/25 - 10/18/25"
        },
        {
          "type": "richtext",
          "label": "Address for FAQ Block",
          "id": "faq_address",
          "default": "<p>Metro Toronto Convention Centre, 255 Front St. W, Toronto, ON, Canada</p>"
        },
         {
          "type": "text",
          "label": "Website text",
          "id": "website_text"
        },
        {
          "type": "url",
          "label": "Website for FAQ Block",
          "id": "faq_website"
        },
        {
          "type": "url",
          "label": "Map Url",
          "id": "faq_link",
          "info": "Add YouTube Embed Link"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Shows FAQ Section",
      "category": "Content",
      "settings": {
        "faq_section_title": "<p>Frequently Asked Questions</p>"
      },
      "blocks": [
        {
          "type": "faq_block",
          "settings": {
            "faq_question": "What is the AAP Annual Meeting?",
            "faq_logo": "",
            "faq_title": "AAP Annual Meeting",
            "faq_subtitle": "Toronto, ON | 10/15/25 - 10/18/25",
            "faq_address": "<p>Metro Toronto Convention Centre, 255 Front St. W, Toronto, ON, Canada</p>",
            "faq_website": "https://www.am2025.perio.org",
            "faq_link": "https://www.am2025.perio.org"
          }
        }
      ]
    }
  ]
}
{% endschema %}
