<section class="faq-section">
  <div class="container">
    {% if section.settings.faq_section_title != blank %}
      <h2 class="faq-title">{{ section.settings.faq_section_title }}</h2>
    {% endif %}
    {% for block in section.blocks %}
      <div class="faq-item">
        <h3>{{ block.settings.faq_question }}</h3>
        <div class="faq-panel-body">
            
          {% if block.settings.faq_logo %}
            <div class="faq-logo">
            <img
              class="faq-logo"
              src="{{ block.settings.faq_logo | img_url: 'medium' }}"
              alt="{{ block.settings.faq_title }}"
            >
                </div>
          {% endif %}

          <div class="faq-info faq-content">
            <p>
              <strong>{{ block.settings.faq_title }}</strong>
            </p>
            <p>{{ block.settings.faq_subtitle }}</p>
            <p>{{ block.settings.faq_address }}</p>

            {% if block.settings.faq_website %}
              <a href="{{ block.settings.faq_website }}" target="_blank">{{ block.settings.faq_website }}</a>
            {% endif %}
          </div>
          {% if block.settings.faq_link %}
              <div class="faq-map">
              <div style="margin-top: 10px;">
                <iframe src="{{ block.settings.faq_link }}" width="600" height="400"></iframe>
              </div>
            </div>
            {% endif %}
        </div>
      </div>
    {% endfor %}
  </div>
</section>
<script>
  document.addEventListener('DOMContentLoaded', function () {
    const faqHeaders = document.querySelectorAll('.faq-item h3');

    faqHeaders.forEach((header) => {
      header.addEventListener('click', function () {
        const currentAnswer = header.nextElementSibling;

        if (currentAnswer.style.maxHeight) {
          currentAnswer.style.maxHeight = null;
        } else {
          const allAnswers = document.querySelectorAll('.faq-item .faq-panel-body');
          allAnswers.forEach((answer) => {
            answer.style.maxHeight = null;
          });

          currentAnswer.style.maxHeight = currentAnswer.scrollHeight + "px";
        }
      });
    });
  });
</script>


{% stylesheet %}
.faq-panel-body {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.5s ease-in-out;
}

  .faq-section {
    margin: 20px 0;
    font-family: Arial, sans-serif;
  }

  .faq-title {
    font-size: 24px;
    font-weight: bold;
    margin-bottom: 20px;
  }

  .faq-item {
    margin-bottom: 20px;
  }

  .faq-logo {
    max-width: 150px;
    margin-top: 10px;
  }

  .faq-info {
    margin-top: 10px;
  }

  .faq-info a {
    color: #0074cc;
    text-decoration: none;
  }

  .faq-info a:hover {
    text-decoration: underline;
  }
{% endstylesheet %}

{% schema %}
{
  "name": "Shows FAQ Section",
  "settings": [
    {
      "type": "header",
      "content": "Trade Shows"
    },
    {
      "type": "text",
      "label": "FAQ Section Title",
      "id": "faq_section_title",
      "default": "Frequently Asked Questions"
    }
  ],
  "blocks": [
    {
      "type": "faq_block",
      "name": "FAQ Block",
      "settings": [
        {
          "type": "text",
          "label": "FAQ Question",
          "id": "faq_question",
          "default": "What is the AAP Annual Meeting?"
        },
        {
          "type": "textarea",
          "label": "FAQ Answer",
          "id": "faq_answer",
          "default": "The AAP Annual Meeting is a premier event for dental professionals. It features presentations, workshops, and networking opportunities."
        },
        {
          "type": "image_picker",
          "label": "Logo for FAQ Block",
          "id": "faq_logo"
        },
        {
          "type": "text",
          "label": "Title for FAQ Block",
          "id": "faq_title",
          "default": "AAP Annual Meeting"
        },
        {
          "type": "text",
          "label": "Subtitle for FAQ Block",
          "id": "faq_subtitle",
          "default": "Toronto, ON | 10/15/25 - 10/18/25"
        },
        {
          "type": "textarea",
          "label": "Address for FAQ Block",
          "id": "faq_address",
          "default": "Metro Toronto Convention Centre, 255 Front St. W, Toronto, ON, Canada"
        },
        {
          "type": "url",
          "label": "Website for FAQ Block",
          "id": "faq_website"
        },
        {
          "type": "url",
          "label": "Link for FAQ Block (Iframe)",
          "id": "faq_link"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Shows FAQ Section",
      "category": "Content",
      "settings": {
        "faq_section_title": "Frequently Asked Questions"
      },
      "blocks": [
        {
          "type": "faq_block",
          "settings": {
            "faq_question": "What is the AAP Annual Meeting?",
            "faq_answer": "The AAP Annual Meeting is a premier event for dental professionals. It features presentations, workshops, and networking opportunities.",
            "faq_logo": "",
            "faq_title": "AAP Annual Meeting",
            "faq_subtitle": "Toronto, ON | 10/15/25 - 10/18/25",
            "faq_address": "Metro Toronto Convention Centre, 255 Front St. W, Toronto, ON, Canada",
            "faq_website": "https://www.am2025.perio.org",
            "faq_link": "https://www.am2025.perio.org"
          }
        }
      ]
    }
  ]
}
{% endschema %}
