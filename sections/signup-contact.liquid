<section class="contact-mail" style="background-color: {{ section.settings.background_color }};">
  <div class="page-width">

    <div class="contact-wrap">
      <div class="left-title">
        <span class="bg-image">
          <img src="{{ section.settings.image |  img_url: '' }}" alt="">
        </span>
        <h2>{{ section.settings.heading }}</h2>
      </div>
      <div class="right-form">
        {{ section.settings.form }}
      </div>
    </div>

  </div>
</section>

<style>

    section.contact-mail {
    padding: 60px 0;
    position: relative;
    display: inline-block;
    width: 100%;
    vertical-align: top;
}

section.contact-mail .contact-wrap {
    display: grid;
    grid-template-columns: 1fr 1fr;
}

section.contact-mail .contact-wrap span.bg-image {
    position: absolute;
    left: 0;
    bottom: -2px;
    display: flex;
}

section.contact-mail .contact-wrap span.bg-image img {
    max-width: 440px;
}

section.contact-mail .contact-wrap .left-title h2 {
    color: #fff;
    max-width: 430px;
    font-size: 40px;
    font-style: normal;
    font-weight: 700;
    line-height: normal;
    text-transform: uppercase;
}

.right-form * {
    color: #fff;
}   

.right-form ul {
    list-style: none;
    padding: 0;
    margin: 0;
}

/* Select Dropdown Styles */
.right-form .hs_select_inquiry_type,
.right-form .hs_select_role {
    margin-bottom: 20px;
}

.right-form .hs_select_inquiry_type label,
.right-form .hs_select_role label {
    color: #FFF;
    font-family: Montserrat;
    font-size: 18px;
    font-style: normal;
    font-weight: 500;
    line-height: normal;
    margin-bottom: 10px;
    display: block;
}

.right-form .hs_select_inquiry_type select,
.right-form .hs_select_role select {
    border-radius: 4px;
    border: 1px solid rgba(255, 255, 255, 0.17);
    background: #0D0B23;
    padding: 0 20px;
    width: 100%;
    color: #fff;
    font-family: Prompt;
    font-size: 16px;
    font-style: normal;
    font-weight: 500;
    min-height: 50px;
    cursor: pointer;
    text-transform: capitalize;
}

.right-form .hs_select_inquiry_type select.is-placeholder,
.right-form .hs_select_role select.is-placeholder {
    color: #7B7B7B;
}

.right-form .hs_select_inquiry_type select option,
.right-form .hs_select_role select option {
    background: #0D0B23;
    color: #fff;
}

/* First Name and Last Name */
.right-form .customer-names {
    display: flex;
    align-items: flex-start;
    gap: 30px;
    margin-bottom: 20px;
}

.right-form .hs_firstname {
    flex: 1;
}

.right-form .hs_lastname {
    flex: 1;
    margin-left: 0 !important;
}

.right-form .hs_firstname label,
.right-form .hs_lastname label {
    color: #FFF;
    font-family: Montserrat;
    font-size: 18px;
    font-style: normal;
    font-weight: 500;
    line-height: normal;
    margin-bottom: 10px;
    display: block;
}

.right-form .hs_firstname .input input,
.right-form .hs_lastname .input input {
    border-radius: 4px;
    border: 1px solid rgba(255, 255, 255, 0.17);
    background: #0D0B23 !important;
    color: #fff !important;
    font-weight: 500;
    font-family: Prompt;
    padding: 0 20px;
    min-height: 50px;
    width: 100%;
    font-size: 16px;
    font-style: normal;
    line-height: normal;
    text-transform: capitalize;
}

.right-form .hs_firstname .input input::placeholder,
.right-form .hs_lastname .input input::placeholder {
    color: #7b7b7b;
}

/* Email Field */
.right-form .hs_email {
    margin-bottom: 20px;
}

.right-form .hs_email label {
    color: #FFF;
    font-family: Montserrat;
    font-size: 18px;
    font-style: normal;
    font-weight: 500;
    line-height: normal;
    margin-bottom: 10px;
    display: block;
}

.right-form .hs_email input {
    border-radius: 4px;
    border: 1px solid rgba(255, 255, 255, 0.17);
    background: #0D0B23;
    padding: 0 20px;
    width: 100%;
    color: #fff;
    font-family: Prompt;
    font-size: 16px;
    font-style: normal;
    font-weight: 500;
    min-height: 50px;
}

.right-form .hs_email input::placeholder {
    color: #7b7b7b;
}

/* Phone Number Field */
.right-form .hs_phone {
    margin-bottom: 20px;
}

.right-form .hs_phone label {
    color: #FFF;
    font-family: Montserrat;
    font-size: 18px;
    font-style: normal;
    font-weight: 500;
    line-height: normal;
    margin-bottom: 10px;
    display: block;
}

.right-form .hs_phone .hs-fieldtype-intl-phone {
    display: flex;
    gap: 10px;
    border-radius: 4px;
    border: 1px solid rgba(255, 255, 255, 0.17);
    background: #0D0B23;
    padding: 0;
    overflow: hidden;
}

.right-form .hs_phone .hs-fieldtype-intl-phone select {
    border: none;
    background: transparent;
    color: #fff;
    font-family: Prompt;
    font-size: 16px;
    padding: 0 10px 0 20px;
    min-height: 50px;
    cursor: pointer;
    max-width: 80px;
}

.right-form .hs_phone .hs-fieldtype-intl-phone input[type="tel"] {
    border: none;
    background: transparent;
    color: #fff;
    font-family: Prompt;
    font-size: 16px;
    padding: 0 20px 0 0;
    min-height: 50px;
    flex: 1;
}

.right-form .hs_phone .hs-fieldtype-intl-phone input[type="tel"]::placeholder {
    color: #7b7b7b;
}

.right-form .hs_phone input[type="tel"].invalid,
.right-form .hs_phone input[type="tel"].error {
    border: none;
}

/* Company Field */
.right-form .hs_company {
    margin-bottom: 20px;
}

.right-form .hs_company label {
    color: #FFF;
    font-family: Montserrat;
    font-size: 18px;
    font-style: normal;
    font-weight: 500;
    line-height: normal;
    margin-bottom: 10px;
    display: block;
}

.right-form .hs_company input {
    border-radius: 4px;
    border: 1px solid rgba(255, 255, 255, 0.17);
    background: #0D0B23;
    padding: 0 20px;
    width: 100%;
    color: #fff;
    font-family: Prompt;
    font-size: 16px;
    font-style: normal;
    font-weight: 500;
    min-height: 50px;
}

.right-form .hs_company input::placeholder {
    color: #7b7b7b;
}

/* Message Textarea */
.right-form .hs_message {
    margin-bottom: 20px;
}

.right-form .hs_message label {
    color: #FFF;
    font-family: Montserrat;
    font-size: 18px;
    font-style: normal;
    font-weight: 500;
    line-height: normal;
    margin-bottom: 10px;
    display: block;
}

.right-form .hs_message textarea {
    border-radius: 4px;
    border: 1px solid rgba(255, 255, 255, 0.17);
    background: #0D0B23;
    padding: 15px 20px;
    width: 100%;
    color: #fff;
    font-family: Prompt;
    font-size: 16px;
    font-style: normal;
    font-weight: 500;
    min-height: 120px;
    resize: vertical;
}

.right-form .hs_message textarea::placeholder {
    color: #7b7b7b;
}

/* Legal Consent */
.right-form .legal-consent-container {
    margin-bottom: 20px;
}

.right-form .legal-consent-container .hs-richtext {
        color: #fff;
    font-family: Montserrat;
    font-size: 16px;
    font-style: normal;
    font-weight: 400;
    line-height: 1.4;
    letter-spacing: -.16px;
}

.right-form .hs_email label {
    margin: 0;
}

.right-form .legal-consent-container .hs-richtext a {
    color: #42C5EF;
    text-decoration: underline;
}

.right-form .legal-consent-container .hs-form-booleancheckbox {
    display: flex;
    align-items: flex-start;
    margin-bottom: 15px;
}

.right-form .legal-consent-container .hs-form-booleancheckbox input[type=checkbox] {
    display: none;
}

.right-form .legal-consent-container .hs-form-booleancheckbox label {
    display: flex;
    align-items: flex-start;
    cursor: pointer;
    position: relative;
}

.right-form .legal-consent-container .hs-form-booleancheckbox label span {
    color: #FFF;
    font-family: Prompt;
    font-size: 14px;
    font-style: normal;
    font-weight: 500;
    line-height: normal;
}

.right-form .legal-consent-container .hs-form-booleancheckbox label span:before {
    content: "";
    width: 18px;
    height: 18px;
    border: 2px solid #fff;
    border-radius: 4px;
    margin-right: 10px;
    box-sizing: border-box;
    transition: all .2s ease-in-out;
    display: inline-block;
    vertical-align: top;
    margin-top: 2px;
    flex-shrink: 0;
}

.right-form .legal-consent-container .hs-form-booleancheckbox label input[type=checkbox]:checked+span:before {
    content: '';
    background-image: url('data:image/svg+xml,<svg width="10" height="8" viewBox="0 0 10 8" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1.33337 4.45833L3.62504 6.75L8.66671 1.25" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>');
    background-repeat: no-repeat;
    background-position: center;
    background-size: 10px;
    padding: 2px;
}

.right-form .legal-consent-container .hs-form-booleancheckbox label span p {
    margin: 0;
}

/* reCAPTCHA */
.right-form .hs_recaptcha {
    margin-bottom: 20px;
}

/* Submit Button */
.right-form .hs_submit {
    margin-top: 20px;
}

.right-form .hs_submit input[type="submit"] {
    display: flex;
    min-width: 235px;
    height: 50px;
    padding: 8px 16px;
    justify-content: center;
    align-items: center;
    gap: 8px;
    flex-shrink: 0;
    border-radius: 4px;
    background: linear-gradient(90deg, #42C5EF 0%, #0033A0 100%);
    color: #FFF;
    text-align: center;
    font-family: Montserrat;
    font-size: 14px;
    font-style: normal;
    font-weight: 600;
    line-height: normal;
    text-transform: uppercase;
    border: unset;
    cursor: pointer;
    background: linear-gradient(102deg, #42c5ef, #0033a0 50% 50%, #42c5ef) !important;
    background-size: 200% 100% !important;
    background-position: 200% 100% !important;
    transition: background-position .7s !important;
}

.right-form .hs_submit input[type="submit"]:hover {
    background-position: 100% 0 !important;
}

/* Required Asterisk */
span.hs-form-required {
    color: #F00;
    font-family: Montserrat;
    font-size: 18px;
    font-style: normal;
    font-weight: 500;
    line-height: normal;
}

/* Error Messages */
.right-form .hs-error-msgs {
    margin-top: 5px;
}

label.hs-error-msg.hs-main-font-element {
    color: #F00 !important;
    font-family: Prompt !important;
    font-size: 12px !important;
    font-style: normal;
    font-weight: 300 !important;
    line-height: normal !important;
        margin-top: -3px !important;
}

/* Success Message */
.right-form .submitted-message {
    background: linear-gradient(90deg, #42C5EF 0%, #0033A0 100%);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    text-align: center;
    font-family: Prompt;
    font-size: 18px;
    font-style: normal;
    font-weight: 600;
    line-height: 27px;
    letter-spacing: 2.7px;
    text-transform: uppercase;
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 200px;
}

/* Hide default field helper elements */
.right-form .field:after,
.right-form .select:after {
    display: none;
}

section.signup-mail {
    display: none !important;
}

.right-form ul.inputs-list .hs-form-booleancheckbox label span {
    font-family: Montserrat !important;
    font-size: 16px !important;
    font-style: normal;
    font-weight: 400 !important;
    line-height: 20px !important;
    margin: 0;
    display: flex;
}

.right-form ul.inputs-list .hs-form-booleancheckbox label {
    margin-bottom: 10px;
}

/* Responsive Styles */
@media only screen and (max-width: 990px) { 
    section.contact-mail .contact-wrap {
        grid-template-columns: 1fr;
    }

    .right-form {
        position: relative;
        z-index: 1;
    }

    section.contact-mail .contact-wrap span.bg-image {
        opacity: .2;
    }

    section.contact-mail .contact-wrap .left-title h2 { 
        font-size: 24px;
    }

    .right-form .customer-names {
        flex-direction: column;
        gap: 20px;
    }

    .right-form .hs_firstname, .right-form .hs_lastname {
            width: 100%  !important;
    }
}

@media only screen and (max-width: 440px) {
    section.contact-mail .contact-wrap span.bg-image img {
        max-width: 100%;
    }

    .right-form .hs_submit input[type="submit"] {
        padding: 0 10px;
        width: 100%;
        height: 45px;
        font-weight: 500;
        min-width: unset;
    }

    section.contact-mail {
        padding: 35px 0;
    }

    .right-form .hs_phone .hs-fieldtype-intl-phone {
        flex-direction: column;
        gap: 0;
    }

    .right-form .hs_phone .hs-fieldtype-intl-phone select {
        max-width: 100%;
        border-bottom: 1px solid rgba(255, 255, 255, 0.17);
    }
}

</style>

<script>
    document.addEventListener("DOMContentLoaded", () => {
        const formContainer = document.querySelector(".right-form");

        if (!formContainer) return;

        // Handle select placeholder color change
        const selects = formContainer.querySelectorAll('select');
        selects.forEach(select => {
            if (select.value === '') {
                select.classList.add('is-placeholder');
            }
            
            select.addEventListener('change', function() {
                if (this.value === '') {
                    this.classList.add('is-placeholder');
                } else {
                    this.classList.remove('is-placeholder');
                }
            });
        });

        // Create observer for customer names wrapper
        const observer = new MutationObserver((mutations, obs) => {
            const firstName = formContainer.querySelector(".hs_firstname");
            const lastName = formContainer.querySelector(".hs_lastname");

            if (firstName && lastName && !formContainer.querySelector(".customer-names")) {
                // Create wrapper
                const wrapper = document.createElement("div");
                wrapper.className = "customer-names";

                // Insert wrapper before firstName
                firstName.parentNode.insertBefore(wrapper, firstName);

                // Move both inputs inside wrapper
                wrapper.appendChild(firstName);
                wrapper.appendChild(lastName);

                // Stop observing once done
                obs.disconnect();
            }
        });

        // Start observing for child nodes added in the form
        observer.observe(formContainer, { childList: true, subtree: true });
    });
</script>

{% schema %}
  {
    "name": "Contact Form",
    "tag": "section",
    "settings": [
      {
        "type": "color",
        "id": "background_color",
        "label": "Background Color",
        "default": "#ffffff"
      }, 
      {
        "type": "text",
        "id": "heading",
        "label": "Title"
      }, 
      {
        "type": "image_picker",
        "id": "image",
        "label": "Background Image"
      }, 
      {
        "type": "textarea",
        "id": "form",
        "label": "Form Script"
      }
    ],
    "presets": [
      {
        "name": "Contact Form",
        "category": "Custom"
      }
    ]
  }
{% endschema %}